{"version":3,"sources":["Components/Header.js","Components/GraphPage.js","Components/FormGroup.js","Components/loginInfo/loginAndPasswords.js","Components/LoginPage.js","Components/Main.js","App.js","reportWebVitals.js","index.js"],"names":["Header","log","logOut","className","to","onClick","GraphPage","userName","useState","dataUSD","setDataUSD","dataEUR","setDataEUR","valute","setValute","Date","startDate","setStartDate","endDate","setEndDate","err","setErr","url","setUrl","loading","setLoading","fetchURLAndSetData","func","fetch","then","response","text","str","window","DOMParser","parseFromString","datas","getElementsByTagName","el","i","prev","date","getAttribute","value","innerHTML","replace","nominal","length","catch","e","console","useEffect","finally","getDateAndValueObject","v","result","map","index","toFixed","getDate","a","year","getFullYear","month","getMonth","day","checkDateForChangeURL","startRes","endRes","data","labels","datasets","label","fill","backgroundColor","borderColor","reRender","setReRender","selected","onChange","dateHandler","selectsStart","minDate","maxDate","subDays","placeholderText","dateFormat","disabled","vas","selectsEnd","addDays","target","FormGroup","placeholder","id","handler","type","htmlFor","receivLocalStorageData","json","localStorage","getItem","JSON","parse","authCheck","name","pass","nameResult","storageUsers","password","usersInfo","filter","find","LoginPage","logHandler","nameHandler","setName","setPass","logError","setLogError","registrationHandler","push","setItem","stringify","addNewUserInLOcalStorage","logInHandler","clearInputs","setTimeout","checkInputsForValue","role","Main","App","setLog","basename","from","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9ee71cca.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Header({ log, logOut }) {\r\n  return (\r\n    <header className=\"d-flex justify-content-between align-items-center line\">\r\n      <nav className=\"nav\">\r\n        <Link className=\"btn btn-primary\" to=\"/\">\r\n          Главная\r\n        </Link>\r\n        <Link className=\"btn btn-primary\" to=\"/graph\">\r\n          График\r\n        </Link>\r\n      </nav>\r\n      {log ? (\r\n        <button className=\"btn btn-primary d-block\" onClick={logOut}>\r\n          Выйти\r\n        </button>\r\n      ) : (\r\n        <Link to=\"/auth\" className=\"btn btn-primary d-block\">\r\n          Войти\r\n        </Link>\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { addDays, subDays } from \"date-fns\";\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nexport default function GraphPage({ userName = \"вы не авторизовались\" }) {\r\n  const [dataUSD, setDataUSD] = useState([]);\r\n  const [dataEUR, setDataEUR] = useState([]);\r\n  const [valute, setValute] = useState(\"USD/RUB\");\r\n\r\n  const [startDate, setStartDate] = useState(new Date(2020, 2, 2));\r\n  const [endDate, setEndDate] = useState(new Date(2020, 2, 14));\r\n\r\n  const [err, setErr] = useState(false);\r\n\r\n  const [url, setUrl] = useState(\r\n    `https://cors-anywhere.herokuapp.com/http://www.cbr.ru/scripts/XML_dynamic.asp?date_req1=02/03/2020&date_req2=14/03/2020&VAL_NM_RQ=`\r\n  );\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchURLAndSetData = (url, func) => {\r\n    return fetch(url)\r\n      .then((response) => response.text())\r\n      .then((str) =>\r\n        new window.DOMParser().parseFromString(str, \"application/xml\")\r\n      )\r\n      .then((datas) => datas.getElementsByTagName(\"Record\"))\r\n      .then((el) => {\r\n        for (let i = 0; i < el.length; i++) {\r\n          func((prev) => [\r\n            ...prev,\r\n            {\r\n              date: el[i].getAttribute(\"Date\"),\r\n              value: el[i]\r\n                .getElementsByTagName(\"Value\")[0]\r\n                .innerHTML.replace(\",\", \".\"),\r\n              nominal: el[i].getElementsByTagName(\"Nominal\")[0].innerHTML,\r\n            },\r\n          ]);\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        setErr(true);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setErr(false);\r\n    setLoading(true);\r\n    setDataUSD([]);\r\n    setDataEUR([]);\r\n\r\n    fetchURLAndSetData(`${url}R01235`, setDataUSD);\r\n    fetchURLAndSetData(`${url}R01239`, setDataEUR).finally(() =>\r\n      setLoading(false)\r\n    );\r\n  }, [url]);\r\n\r\n  const valuteHandler = (e) => {\r\n    setValute(e.target.value);\r\n  };\r\n\r\n  const getDateAndValueObject = (v) => {\r\n    let result = {};\r\n\r\n    switch (v) {\r\n      case \"USD/RUB\":\r\n        result = {\r\n          date: dataUSD.map((el) => el.date),\r\n          value: dataUSD.map((el) => el.value),\r\n        };\r\n        break;\r\n      case \"EUR/RUB\":\r\n        result = {\r\n          date: dataEUR.map((el) => el.date),\r\n          value: dataEUR.map((el) => el.value),\r\n        };\r\n        break;\r\n      case \"EUR/USD\":\r\n        result = {\r\n          date: dataUSD.map((el) => el.date),\r\n          value: dataEUR.map((el, index) =>\r\n            (el.value / dataUSD[index].value).toFixed(4)\r\n          ),\r\n        };\r\n        break;\r\n      default:\r\n        result = {\r\n          date: dataUSD.map((el) => el.date),\r\n          value: dataUSD.map((el) => el.value),\r\n        };\r\n    }\r\n    return result;\r\n  };\r\n\r\n  const dateHandler = (date) => {\r\n    setStartDate(date);\r\n    setEndDate(null);\r\n  };\r\n\r\n  const getDate = (a) => {\r\n    return {\r\n      year: a.getFullYear(),\r\n      month: a.getMonth() >= 9 ? a.getMonth() + 1 : \"0\" + (a.getMonth() + 1),\r\n      day: a.getDate() >= 10 ? a.getDate() : \"0\" + a.getDate(),\r\n    };\r\n  };\r\n\r\n  const checkDateForChangeURL = () => {\r\n    let startRes = getDate(startDate);\r\n    let endRes = getDate(endDate);\r\n    setUrl(\r\n      `https://cors-anywhere.herokuapp.com/http://www.cbr.ru/scripts/XML_dynamic.asp?date_req1=${startRes.day}/${startRes.month}/${startRes.year}&date_req2=${endRes.day}/${endRes.month}/${endRes.year}&VAL_NM_RQ=`\r\n    );\r\n  };\r\n\r\n  let data = {\r\n    labels: getDateAndValueObject(valute).date,\r\n    datasets: [\r\n      {\r\n        label: valute,\r\n        data: getDateAndValueObject(valute).value,\r\n        fill: false,\r\n        backgroundColor: \"rgb(255, 99, 132)\",\r\n        borderColor: \"rgba(255, 99, 132, 0.2)\",\r\n      },\r\n    ],\r\n  };\r\n\r\n  let valuteArray = [\"USD/RUB\", \"EUR/RUB\", \"EUR/USD\"];\r\n\r\n  const [reRender, setReRender] = useState(true);\r\n\r\n  const vas = (date) => {\r\n    setEndDate(date);\r\n    setReRender(!reRender);\r\n  };\r\n\r\n  useEffect(() => {\r\n    checkDateForChangeURL();\r\n  }, [reRender]);\r\n\r\n  return (\r\n    <>\r\n      <h2 className=\"text-center pt-2\">Добрый день, {userName}</h2>\r\n      <div className=\"w-100 d-flex align-items-center\">\r\n        <DatePicker\r\n          className=\"form-control ml-3\"\r\n          selected={startDate}\r\n          onChange={(date) => dateHandler(date)}\r\n          selectsStart\r\n          startDate={startDate}\r\n          endDate={endDate}\r\n          minDate={new Date(2010, 10, 10)}\r\n          maxDate={subDays(new Date(), 1)}\r\n          placeholderText=\"От\"\r\n          dateFormat=\"dd/MM/yyyy\"\r\n          disabled={loading}\r\n        />\r\n        <DatePicker\r\n          className=\"form-control ml-3 \"\r\n          selected={endDate}\r\n          onChange={(date) => vas(date)}\r\n          selectsEnd\r\n          startDate={startDate}\r\n          endDate={endDate}\r\n          minDate={startDate}\r\n          maxDate={addDays(startDate, 15)}\r\n          placeholderText=\"До\"\r\n          dateFormat=\"dd/MM/yyyy\"\r\n          disabled={loading}\r\n        />\r\n\r\n        <button\r\n          onClick={checkDateForChangeURL}\r\n          className=\"btn btn-primary ml-5\"\r\n          disabled={!(startDate && endDate) || loading}\r\n        >\r\n          Показать информацию\r\n        </button>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <h3 className=\"text-center\">Loading...</h3>\r\n      ) : (dataUSD !== [] || dataEUR !== []) && !err ? (\r\n        <>\r\n          <select\r\n            value={valute}\r\n            onChange={valuteHandler}\r\n            className=\"custom-select\"\r\n          >\r\n            {valuteArray.map((el) => (\r\n              <option value={el} key={el}>\r\n                {el}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <div className=\"wrapper\">\r\n            <Line data={data} />\r\n          </div>\r\n        </>\r\n      ) : err ? (\r\n        <h2 className=\"text-center\">\r\n          Возможно какая-то ошибка с сервером, попробуйте сделать запрос снова\r\n        </h2>\r\n      ) : (\r\n        <h2 className=\"text-center\">Данных за этот промежуток не найдено</h2>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function FormGroup({\r\n  value,\r\n  placeholder,\r\n  id,\r\n  handler,\r\n  type = \"text\",\r\n}) {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={id}>{placeholder}</label>\r\n      <input\r\n        type={type}\r\n        className=\"form-control\"\r\n        id={id}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        onChange={(e) => handler(e)}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","function receivLocalStorageData() {\r\n  let json = localStorage.getItem(\"user\");\r\n  let registeredUser = json ? JSON.parse(json) : [];\r\n  return registeredUser;\r\n}\r\n\r\nfunction usersInfo() {\r\n  let storageUsers = receivLocalStorageData();\r\n\r\n  let users = [\r\n    ...storageUsers,\r\n    {\r\n      name: \"Alex\",\r\n      password: \"1234\",\r\n    },\r\n    {\r\n      name: \"Dmitriy\",\r\n      password: \"qwerty\",\r\n    },\r\n    {\r\n      name: \"admin\",\r\n      password: \"password\",\r\n    },\r\n  ];\r\n\r\n  return users;\r\n}\r\n\r\nexport function addNewUserInLOcalStorage(name, password) {\r\n  let storageUsers = receivLocalStorageData();\r\n  storageUsers.push({ name, password });\r\n  return localStorage.setItem(\"user\", JSON.stringify(storageUsers));\r\n}\r\n\r\nexport function authCheck(name, pass) {\r\n  let users = usersInfo();\r\n\r\n  let nameResult = users.filter((el) => el.name === name);\r\n\r\n  let logIn =\r\n    nameResult.length > 0\r\n      ? nameResult.find((el) => el.password === pass)\r\n        ? true\r\n        : false\r\n      : false;\r\n  return logIn;\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport FormGroup from \"./FormGroup\";\r\nimport {\r\n  addNewUserInLOcalStorage,\r\n  authCheck,\r\n} from \"./loginInfo/loginAndPasswords\";\r\n\r\nexport const CountStateContext = React.createContext();\r\n\r\nexport default function LoginPage({ log, logHandler, nameHandler, userName }) {\r\n  const [name, setName] = useState(\"\");\r\n  const [pass, setPass] = useState(\"\");\r\n  const [logError, setLogError] = useState(false);\r\n\r\n  const registrationHandler = (name, pass) => {\r\n    addNewUserInLOcalStorage(name, pass);\r\n\r\n    logInHandler();\r\n\r\n    clearInputs();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (logError) {\r\n      setTimeout(() => setLogError(false), 3500);\r\n    }\r\n  }, [logError]);\r\n\r\n  const clearInputs = () => {\r\n    setName(\"\");\r\n    setPass(\"\");\r\n  };\r\n\r\n  const checkInputsForValue = () => {\r\n    if (name.length > 0 && pass.length > 0) {\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const nameInputHandler = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n  const passInputHandler = (e) => {\r\n    setPass(e.target.value);\r\n  };\r\n\r\n  const logInHandler = () => {\r\n    let logIn = authCheck(name, pass);\r\n\r\n    if (logIn) {\r\n      logHandler();\r\n      nameHandler(name);\r\n      clearInputs();\r\n    } else {\r\n      setLogError(true);\r\n    }\r\n  };\r\n\r\n  if (log) {\r\n    return <h2 className=\"text-center pt-2\">Вы уже вошли, {userName}!</h2>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {logError ? (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          <p className=\"text-center mb-0\">\r\n            Имя или пароль введены не правильно, попробуйте снова\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <div className=\"login\">\r\n        <FormGroup\r\n          value={name}\r\n          placeholder=\"Имя\"\r\n          id=\"nameLabel\"\r\n          handler={nameInputHandler}\r\n        />\r\n        <FormGroup\r\n          type=\"password\"\r\n          value={pass}\r\n          placeholder=\"Пароль\"\r\n          id=\"passLabel\"\r\n          handler={passInputHandler}\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary login-btn\"\r\n          onClick={logInHandler}\r\n          disabled={checkInputsForValue()}\r\n        >\r\n          Войти\r\n        </button>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary login-btn\"\r\n          onClick={() => registrationHandler(name, pass)}\r\n          disabled={checkInputsForValue()}\r\n        >\r\n          Зарегестрироваться\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Main() {\r\n  return (\r\n    <h2 className=\"text-center pt-2\">\r\n      Привет! на этом сайте ты сможешь пройти регистрацию и посмотреть на график\r\n      валют за определенное время\r\n    </h2>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport Header from \"./Components/Header\";\nimport GraphPage from \"./Components/GraphPage\";\nimport LoginPage from \"./Components/LoginPage\";\nimport \"./App.css\";\nimport Main from \"./Components/Main\";\n\nfunction App() {\n  const [log, setLog] = useState(false);\n  const [name, setName] = useState();\n\n  const logHandler = () => {\n    setLog((prev) => !prev);\n    setName();\n  };\n\n  const nameHandler = (text) => {\n    setName(text);\n  };\n\n  return (\n    <Router basename=\"/react-authAndGraph\">\n      <div className=\"App\">\n        <Header logOut={logHandler} log={log} />\n        <Switch>\n          {log ? <Redirect from=\"/auth\" to=\"/graph\" /> : \"\"}\n          <Route exact path=\"/\">\n            <Main name={name} />\n          </Route>\n          <Route path=\"/graph\">\n            <GraphPage userName={name} />\n          </Route>\n          <Route path=\"/auth\">\n            <LoginPage\n              log={log}\n              logHandler={logHandler}\n              nameHandler={nameHandler}\n              userName={name}\n            />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}