{"version":3,"sources":["Components/Header.js","Components/GraphPage.js","Components/FormGroup.js","Components/loginInfo/loginAndPasswords.js","Components/LoginPage.js","App.js","reportWebVitals.js","index.js"],"names":["Header","log","logOut","className","to","onClick","GraphPage","userName","useState","dataUSD","setDataUSD","dataEUR","setDataEUR","valute","setValute","Date","startDate","setStartDate","endDate","setEndDate","url","setUrl","loading","setLoading","fetchURLAndSetData","func","fetch","then","response","text","str","window","DOMParser","parseFromString","datas","getElementsByTagName","el","i","prev","date","getAttribute","value","innerHTML","replace","nominal","length","catch","e","console","useEffect","finally","getDateAndValueObject","v","result","map","index","toFixed","getDate","a","year","getFullYear","month","getMonth","day","data","labels","datasets","label","fill","backgroundColor","borderColor","selected","onChange","dateHandler","selectsStart","minDate","maxDate","subDays","placeholderText","dateFormat","selectsEnd","addDays","startRes","endRes","disabled","target","FormGroup","placeholder","id","handler","type","htmlFor","receivLocalStorageData","json","localStorage","getItem","JSON","parse","authCheck","name","pass","nameResult","storageUsers","password","usersInfo","filter","find","LoginPage","logHandler","nameHandler","setName","setPass","logError","setLogError","registrationHandler","push","setItem","stringify","addNewUserInLOcalStorage","logInHandler","clearInputs","setTimeout","checkInputsForValue","role","App","setLog","basename","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.17384fa5.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Header({ log, logOut }) {\r\n  return (\r\n    <header className=\"d-flex justify-content-between align-items-center line\">\r\n      <nav className=\"nav\">\r\n        <Link className=\"btn btn-primary\" to=\"/\">\r\n          Главная\r\n        </Link>\r\n        <Link className=\"btn btn-primary\" to=\"/graph\">\r\n          График\r\n        </Link>\r\n      </nav>\r\n      {log ? (\r\n        <button className=\"btn btn-primary d-block\" onClick={logOut}>\r\n          Выйти\r\n        </button>\r\n      ) : (\r\n        <Link to=\"/\" className=\"btn btn-primary d-block\">\r\n          Войти\r\n        </Link>\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { addDays, subDays } from \"date-fns\";\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nexport default function GraphPage({ userName = \"вы не авторизовались\" }) {\r\n  const [dataUSD, setDataUSD] = useState([]);\r\n  const [dataEUR, setDataEUR] = useState([]);\r\n  const [valute, setValute] = useState(\"USD/RUB\");\r\n\r\n  const [startDate, setStartDate] = useState(new Date(2020, 2, 2));\r\n  const [endDate, setEndDate] = useState(new Date(2020, 2, 14));\r\n\r\n  const [url, setUrl] = useState(\r\n    `https://cors-anywhere.herokuapp.com/http://www.cbr.ru/scripts/XML_dynamic.asp?date_req1=02/03/2020&date_req2=14/03/2020&VAL_NM_RQ=`\r\n  );\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchURLAndSetData = (url, func) => {\r\n    return fetch(url)\r\n      .then((response) => response.text())\r\n      .then((str) =>\r\n        new window.DOMParser().parseFromString(str, \"application/xml\")\r\n      )\r\n      .then((datas) => datas.getElementsByTagName(\"Record\"))\r\n      .then((el) => {\r\n        for (let i = 0; i < el.length; i++) {\r\n          func((prev) => [\r\n            ...prev,\r\n            {\r\n              date: el[i].getAttribute(\"Date\"),\r\n              value: el[i]\r\n                .getElementsByTagName(\"Value\")[0]\r\n                .innerHTML.replace(\",\", \".\"),\r\n              nominal: el[i].getElementsByTagName(\"Nominal\")[0].innerHTML,\r\n            },\r\n          ]);\r\n        }\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    setDataUSD([]);\r\n    setDataEUR([]);\r\n\r\n    fetchURLAndSetData(`${url}R01235`, setDataUSD);\r\n    fetchURLAndSetData(`${url}R01239`, setDataEUR).finally(() =>\r\n      setLoading(false)\r\n    );\r\n  }, [url]);\r\n\r\n  const valuteHandler = (e) => {\r\n    setValute(e.target.value);\r\n  };\r\n\r\n  const getDateAndValueObject = (v) => {\r\n    let result = {};\r\n\r\n    switch (v) {\r\n      case \"USD/RUB\":\r\n        result = {\r\n          date: dataUSD.map((el) => el.date),\r\n          value: dataUSD.map((el) => el.value),\r\n        };\r\n        break;\r\n      case \"EUR/RUB\":\r\n        result = {\r\n          date: dataEUR.map((el) => el.date),\r\n          value: dataEUR.map((el) => el.value),\r\n        };\r\n        break;\r\n      case \"EUR/USD\":\r\n        result = {\r\n          date: dataUSD.map((el) => el.date),\r\n          value: dataEUR.map((el, index) =>\r\n            (el.value / dataUSD[index].value).toFixed(4)\r\n          ),\r\n        };\r\n        break;\r\n      default:\r\n        result = {\r\n          date: dataUSD.map((el) => el.date),\r\n          value: dataUSD.map((el) => el.value),\r\n        };\r\n    }\r\n    return result;\r\n  };\r\n\r\n  const dateHandler = (date) => {\r\n    setStartDate(date);\r\n    setEndDate(null);\r\n  };\r\n\r\n  const getDate = (a) => {\r\n    return {\r\n      year: a.getFullYear(),\r\n      month: a.getMonth() >= 9 ? a.getMonth() + 1 : \"0\" + (a.getMonth() + 1),\r\n      day: a.getDate() >= 10 ? a.getDate() : \"0\" + a.getDate(),\r\n    };\r\n  };\r\n\r\n  const checkDateForChangeURL = () => {\r\n    if (startDate && endDate) {\r\n      let startRes = getDate(startDate);\r\n      let endRes = getDate(endDate);\r\n      setUrl(\r\n        `https://cors-anywhere.herokuapp.com/http://www.cbr.ru/scripts/XML_dynamic.asp?date_req1=${startRes.day}/${startRes.month}/${startRes.year}&date_req2=${endRes.day}/${endRes.month}/${endRes.year}&VAL_NM_RQ=`\r\n      );\r\n    }\r\n  };\r\n\r\n  let data = {\r\n    labels: getDateAndValueObject(valute).date,\r\n    datasets: [\r\n      {\r\n        label: valute,\r\n        data: getDateAndValueObject(valute).value,\r\n        fill: false,\r\n        backgroundColor: \"rgb(255, 99, 132)\",\r\n        borderColor: \"rgba(255, 99, 132, 0.2)\",\r\n      },\r\n    ],\r\n  };\r\n\r\n  let valuteArray = [\"USD/RUB\", \"EUR/RUB\", \"EUR/USD\"];\r\n\r\n  return (\r\n    <>\r\n      <h2 className=\"text-center pt-2\">Добрый день, {userName}</h2>\r\n      <div className=\"w-100 d-flex align-items-center\">\r\n        <DatePicker\r\n          className=\"form-control ml-3\"\r\n          selected={startDate}\r\n          onChange={(date) => dateHandler(date)}\r\n          selectsStart\r\n          startDate={startDate}\r\n          endDate={endDate}\r\n          minDate={new Date(2010, 10, 10)}\r\n          maxDate={subDays(new Date(), 1)}\r\n          placeholderText=\"От\"\r\n          dateFormat=\"dd/MM/yyyy\"\r\n        />\r\n        <DatePicker\r\n          className=\"form-control ml-3 \"\r\n          selected={endDate}\r\n          onChange={(date) => setEndDate(date)}\r\n          selectsEnd\r\n          startDate={startDate}\r\n          endDate={endDate}\r\n          minDate={startDate}\r\n          maxDate={addDays(startDate, 15)}\r\n          placeholderText=\"До\"\r\n          dateFormat=\"dd/MM/yyyy\"\r\n        />\r\n\r\n        <button\r\n          onClick={checkDateForChangeURL}\r\n          className=\"btn btn-primary ml-5\"\r\n          disabled={!(startDate && endDate)}\r\n        >\r\n          Показать информацию\r\n        </button>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <h3 className=\"text-center\">Loading...</h3>\r\n      ) : dataUSD.length > 1 || dataEUR.length > 1 ? (\r\n        <>\r\n          <select\r\n            value={valute}\r\n            onChange={valuteHandler}\r\n            className=\"custom-select\"\r\n          >\r\n            {valuteArray.map((el) => (\r\n              <option value={el} key={el}>\r\n                {el}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <div className=\"wrapper\">\r\n            <Line data={data} />\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <h2 className=\"text-center\">Данных за этот промежуток не найдено</h2>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function FormGroup({\r\n  value,\r\n  placeholder,\r\n  id,\r\n  handler,\r\n  type = \"text\",\r\n}) {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={id}>{placeholder}</label>\r\n      <input\r\n        type={type}\r\n        className=\"form-control\"\r\n        id={id}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        onChange={(e) => handler(e)}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","function receivLocalStorageData() {\r\n  let json = localStorage.getItem(\"user\");\r\n  let registeredUser = json ? JSON.parse(json) : [];\r\n  return registeredUser;\r\n}\r\n\r\nfunction usersInfo() {\r\n  let storageUsers = receivLocalStorageData();\r\n\r\n  let users = [\r\n    ...storageUsers,\r\n    {\r\n      name: \"Alex\",\r\n      password: \"1234\",\r\n    },\r\n    {\r\n      name: \"Dmitriy\",\r\n      password: \"qwerty\",\r\n    },\r\n    {\r\n      name: \"admin\",\r\n      password: \"password\",\r\n    },\r\n  ];\r\n\r\n  return users;\r\n}\r\n\r\nexport function addNewUserInLOcalStorage(name, password) {\r\n  let storageUsers = receivLocalStorageData();\r\n  console.log(storageUsers);\r\n  storageUsers.push({ name, password });\r\n  return localStorage.setItem(\"user\", JSON.stringify(storageUsers));\r\n}\r\n\r\nexport function authCheck(name, pass) {\r\n  let users = usersInfo();\r\n\r\n  let nameResult = users.filter((el) => el.name === name);\r\n\r\n  let logIn =\r\n    nameResult.length > 0\r\n      ? nameResult.find((el) => el.password === pass)\r\n        ? true\r\n        : false\r\n      : false;\r\n  return logIn;\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport FormGroup from \"./FormGroup\";\r\nimport {\r\n  addNewUserInLOcalStorage,\r\n  authCheck,\r\n} from \"./loginInfo/loginAndPasswords\";\r\n\r\nexport const CountStateContext = React.createContext();\r\n\r\nexport default function LoginPage({ log, logHandler, nameHandler, userName }) {\r\n  const [name, setName] = useState(\"\");\r\n  const [pass, setPass] = useState(\"\");\r\n  const [logError, setLogError] = useState(false);\r\n\r\n  const registrationHandler = (name, pass) => {\r\n    addNewUserInLOcalStorage(name, pass);\r\n\r\n    logInHandler();\r\n\r\n    clearInputs();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (logError) {\r\n      setTimeout(() => setLogError(false), 3500);\r\n    }\r\n  }, [logError]);\r\n\r\n  const clearInputs = () => {\r\n    setName(\"\");\r\n    setPass(\"\");\r\n  };\r\n\r\n  const checkInputsForValue = () => {\r\n    if (name.length > 0 && pass.length > 0) {\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const nameInputHandler = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n  const passInputHandler = (e) => {\r\n    setPass(e.target.value);\r\n  };\r\n\r\n  const logInHandler = () => {\r\n    let logIn = authCheck(name, pass);\r\n\r\n    if (logIn) {\r\n      logHandler();\r\n      nameHandler(name);\r\n      clearInputs();\r\n    } else {\r\n      setLogError(true);\r\n    }\r\n  };\r\n\r\n  if (log) {\r\n    return <h2 className=\"text-center pt-2\">Вы уже вошли, {userName}!</h2>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {logError ? (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          <p className=\"text-center mb-0\">\r\n            Имя или пароль введены не правильно, попробуйте снова\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <div className=\"login\">\r\n        <FormGroup\r\n          value={name}\r\n          placeholder=\"Имя\"\r\n          id=\"nameLabel\"\r\n          handler={nameInputHandler}\r\n        />\r\n        <FormGroup\r\n          type=\"password\"\r\n          value={pass}\r\n          placeholder=\"Пароль\"\r\n          id=\"passLabel\"\r\n          handler={passInputHandler}\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary login-btn\"\r\n          onClick={logInHandler}\r\n          disabled={checkInputsForValue()}\r\n        >\r\n          Войти\r\n        </button>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-primary login-btn\"\r\n          onClick={() => registrationHandler(name, pass)}\r\n          disabled={checkInputsForValue()}\r\n        >\r\n          Зарегестрироваться\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Header from \"./Components/Header\";\nimport GraphPage from \"./Components/GraphPage\";\nimport LoginPage from \"./Components/LoginPage\";\nimport \"./App.css\";\n\nfunction App() {\n  const [log, setLog] = useState(false);\n  const [name, setName] = useState();\n\n  const logHandler = () => {\n    setLog((prev) => !prev);\n    setName();\n  };\n\n  const nameHandler = (text) => {\n    setName(text);\n  };\n\n  return (\n    <Router basename=\"/react-authAndGraph\">\n      <div className=\"App\">\n        <Header logOut={logHandler} log={log} />\n        <Switch>\n          <Route exact path=\"/\">\n            <LoginPage\n              log={log}\n              logHandler={logHandler}\n              nameHandler={nameHandler}\n              userName={name}\n            />\n          </Route>\n          <Route path=\"/graph\">\n            <GraphPage userName={name} />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}