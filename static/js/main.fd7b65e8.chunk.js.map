{"version":3,"sources":["Components/Button.js","Components/header/HeaderLog.js","Components/header/HeaderNav.js","Components/Header.js","Components/graph/GraphDatePicker.js","Components/TextCenter.js","Components/graph/GraphError.js","Components/graph/GraphData.js","Components/graph/GraphPage.js","Components/FormGroup.js","Components/Error.js","Components/loginInfo/loginAndPasswords.js","Components/LoginPage.js","Components/Main.js","App.js","reportWebVitals.js","index.js"],"names":["Button","children","className","rest","style","HeaderLog","log","logOut","onClick","to","HeaderNav","Header","GraphDatePicker","loading","checkDateForChangeURL","endDateHandler","startDateHandler","startDate","endDate","selected","onChange","date","selectsStart","minDate","Date","maxDate","subDays","placeholderText","dateFormat","disabled","selectsEnd","addDays","TextCenter","GraphError","error","GraphData","dataUSD","dataEUR","err","data","valuteArray","valuteHandler","valute","length","value","map","el","index","GraphPage","userName","useState","setDataUSD","setDataEUR","setValute","setStartDate","setEndDate","reRender","setReRender","setErr","url","setUrl","setLoading","fetchURLAndSetData","func","fetch","then","response","text","str","window","DOMParser","parseFromString","datas","getElementsByTagName","resultArray","i","push","getAttribute","innerHTML","replace","nominal","array","catch","e","console","useEffect","Promise","all","finally","getDateAndValueObject","v","result","toFixed","getDate","a","year","getFullYear","month","getMonth","day","startRes","endRes","labels","datasets","label","fill","backgroundColor","borderColor","target","FormGroup","placeholder","id","handler","type","htmlFor","Error","role","receivLocalStorageData","json","localStorage","getItem","JSON","parse","authCheck","name","pass","nameResult","storageUsers","password","usersInfo","filter","find","LoginPage","logHandler","nameHandler","setName","setPass","logError","setLogError","registrationHandler","setItem","stringify","addNewUserInLOcalStorage","logInHandler","clearInputs","timeout","setTimeout","clearTimeout","checkInputsForValue","Main","App","setLog","prev","basename","from","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fd7b65e8.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default function Button({ children, className, ...rest }) {\r\n  let style = `btn btn-primary ${className} `;\r\n\r\n  return (\r\n    <button className={style} {...rest}>\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"../Button\";\r\n\r\nexport default function HeaderLog({ log, logOut }) {\r\n  if (log) {\r\n    return (\r\n      <Button className=\"d-block m-2\" onClick={logOut}>\r\n        Выйти\r\n      </Button>\r\n    );\r\n  }\r\n  return (\r\n    <Link to=\"/auth\" className=\"btn btn-primary d-block m-2\">\r\n      Войти\r\n    </Link>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function HeaderNav() {\r\n  return (\r\n    <>\r\n      <Link className=\"btn btn-primary m-2\" to=\"/\">\r\n        Главная\r\n      </Link>\r\n      <Link className=\"btn btn-primary m-2\" to=\"/graph\">\r\n        График\r\n      </Link>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport HeaderLog from \"./header/HeaderLog\";\r\nimport HeaderNav from \"./header/HeaderNav\";\r\n\r\nexport default function Header({ log, logOut }) {\r\n  return (\r\n    <header className=\"d-flex justify-content-between align-items-center line border-bottom\">\r\n      <nav className=\"nav\">\r\n        <HeaderNav />\r\n      </nav>\r\n      <HeaderLog log={log} logOut={logOut} />\r\n    </header>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { addDays, subDays } from \"date-fns\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport Button from \"../Button\";\r\n\r\nimport \"../../styles/GraphDatePicker.css\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nexport default function GraphDatePicker({\r\n  loading,\r\n  checkDateForChangeURL,\r\n  endDateHandler,\r\n  startDateHandler,\r\n  startDate,\r\n  endDate,\r\n}) {\r\n  return (\r\n    <div className=\"w-100 d-flex align-items-center\">\r\n      <DatePicker\r\n        className=\"form-control m-1\"\r\n        selected={startDate}\r\n        onChange={(date) => startDateHandler(date)}\r\n        selectsStart\r\n        startDate={startDate}\r\n        endDate={endDate}\r\n        minDate={new Date(2010, 10, 10)}\r\n        maxDate={subDays(new Date(), 1)}\r\n        placeholderText=\"От\"\r\n        dateFormat=\"dd/MM/yyyy\"\r\n        disabled={loading}\r\n      />\r\n      <DatePicker\r\n        className=\"form-control ml-3 \"\r\n        selected={endDate}\r\n        onChange={(date) => endDateHandler(date)}\r\n        selectsEnd\r\n        startDate={startDate}\r\n        endDate={endDate}\r\n        minDate={startDate}\r\n        maxDate={addDays(startDate, 15)}\r\n        placeholderText=\"До\"\r\n        dateFormat=\"dd/MM/yyyy\"\r\n        disabled={loading}\r\n      />\r\n\r\n      <Button\r\n        onClick={() => checkDateForChangeURL()}\r\n        className=\"ml-5\"\r\n        disabled={!(startDate && endDate) || loading}\r\n      >\r\n        Показать информацию\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function TextCenter({ children }) {\r\n  return <h2 className=\"text-center\">{children}</h2>;\r\n}\r\n","import React from \"react\";\r\nimport TextCenter from \"../TextCenter\";\r\n\r\nexport default function GraphError({ error }) {\r\n  return (\r\n    <TextCenter>\r\n      {error\r\n        ? \"Возможно какая-то ошибка с сервером, попробуйте сделать запрос снова\"\r\n        : \"Данных за этот промежуток не найдено\"}\r\n    </TextCenter>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport GraphError from \"./GraphError\";\r\n\r\nimport { Line } from \"react-chartjs-2\";\r\n\r\nimport \"../../styles/GraphData.css\";\r\n\r\nexport default function GraphData({\r\n  dataUSD,\r\n  dataEUR,\r\n  err,\r\n  data,\r\n  valuteArray,\r\n  valuteHandler,\r\n  valute,\r\n}) {\r\n  return dataUSD.length === 0 || dataEUR.length === 0 || err ? (\r\n    <GraphError error={err} />\r\n  ) : (\r\n    <>\r\n      <select className=\"custom-select\" onChange={valuteHandler} value={valute}>\r\n        {valuteArray.map((el, index) => (\r\n          <option value={el} key={index}>\r\n            {el}\r\n          </option>\r\n        ))}\r\n      </select>\r\n\r\n      <div className=\"custom-line\">\r\n        <Line data={data} />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport GraphDatePicker from \"./GraphDatePicker\";\r\nimport GraphData from \"./GraphData\";\r\n\r\nimport TextCenter from \"../TextCenter\";\r\n\r\nexport default function GraphPage({ userName = \"вы не авторизовались\" }) {\r\n  const [dataUSD, setDataUSD] = useState([]);\r\n  const [dataEUR, setDataEUR] = useState([]);\r\n  const [valute, setValute] = useState(\"USD/RUB\");\r\n\r\n  const [startDate, setStartDate] = useState(new Date(2020, 2, 2));\r\n  const [endDate, setEndDate] = useState(new Date(2020, 2, 14));\r\n\r\n  const [reRender, setReRender] = useState(true);\r\n\r\n  const [err, setErr] = useState(false);\r\n\r\n  const [url, setUrl] = useState(\r\n    `https://cors-anywhere.herokuapp.com/http://www.cbr.ru/scripts/XML_dynamic.asp?date_req1=02/03/2020&date_req2=14/03/2020&VAL_NM_RQ=`\r\n  );\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchURLAndSetData = (url, func) => {\r\n    return fetch(url)\r\n      .then((response) => response.text())\r\n      .then((str) =>\r\n        new window.DOMParser().parseFromString(str, \"application/xml\")\r\n      )\r\n      .then((datas) => datas.getElementsByTagName(\"Record\"))\r\n      .then((el) => {\r\n        let resultArray = [];\r\n        for (let i = 0; i < el.length; i++) {\r\n          resultArray.push({\r\n            date: el[i].getAttribute(\"Date\"),\r\n            value: el[i]\r\n              .getElementsByTagName(\"Value\")[0]\r\n              .innerHTML.replace(\",\", \".\"),\r\n            nominal: el[i].getElementsByTagName(\"Nominal\")[0].innerHTML,\r\n          });\r\n        }\r\n        return resultArray;\r\n      })\r\n      .then((array) => func(array))\r\n      .catch((e) => {\r\n        console.log(e);\r\n        setErr(true);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setErr(false);\r\n    setLoading(true);\r\n    setDataUSD([]);\r\n    setDataEUR([]);\r\n    setValute(\"USD/RUB\");\r\n\r\n    Promise.all([\r\n      fetchURLAndSetData(`${url}R01235`, setDataUSD),\r\n      fetchURLAndSetData(`${url}R01239`, setDataEUR),\r\n    ]).finally(() => setLoading(false));\r\n  }, [url]);\r\n\r\n  useEffect(() => {\r\n    checkDateForChangeURL();\r\n  }, [reRender]);\r\n\r\n  const valuteHandler = (e) => {\r\n    setValute(e.target.value);\r\n  };\r\n\r\n  const getDateAndValueObject = (v) => {\r\n    let result = {};\r\n\r\n    switch (v) {\r\n      case \"USD/RUB\":\r\n        result = {\r\n          date: dataUSD.map((el) => el.date),\r\n          value: dataUSD.map((el) => el.value),\r\n        };\r\n        break;\r\n      case \"EUR/RUB\":\r\n        result = {\r\n          date: dataEUR.map((el) => el.date),\r\n          value: dataEUR.map((el) => el.value),\r\n        };\r\n        break;\r\n      case \"EUR/USD\":\r\n        result = {\r\n          date: dataUSD.map((el) => el.date),\r\n          value: dataEUR.map((el, index) =>\r\n            (el.value / dataUSD[index].value).toFixed(4)\r\n          ),\r\n        };\r\n        break;\r\n      default:\r\n        result = {\r\n          date: dataUSD.map((el) => el.date),\r\n          value: dataUSD.map((el) => el.value),\r\n        };\r\n    }\r\n    return result;\r\n  };\r\n\r\n  const startDateHandler = (date) => {\r\n    setStartDate(date);\r\n    setEndDate(null);\r\n  };\r\n\r\n  const endDateHandler = (date) => {\r\n    setEndDate(date);\r\n    if (date) {\r\n      setReRender(!reRender);\r\n    }\r\n  };\r\n\r\n  const getDate = (a) => {\r\n    return {\r\n      year: a.getFullYear(),\r\n      month: a.getMonth() >= 9 ? a.getMonth() + 1 : \"0\" + (a.getMonth() + 1),\r\n      day: a.getDate() >= 10 ? a.getDate() : \"0\" + a.getDate(),\r\n    };\r\n  };\r\n\r\n  const checkDateForChangeURL = () => {\r\n    let startRes = getDate(startDate);\r\n    let endRes = getDate(endDate);\r\n    setUrl(\r\n      `https://cors-anywhere.herokuapp.com/http://www.cbr.ru/scripts/XML_dynamic.asp?date_req1=${startRes.day}/${startRes.month}/${startRes.year}&date_req2=${endRes.day}/${endRes.month}/${endRes.year}&VAL_NM_RQ=`\r\n    );\r\n  };\r\n\r\n  let data = {\r\n    labels: getDateAndValueObject(valute).date,\r\n    datasets: [\r\n      {\r\n        label: valute,\r\n        data: getDateAndValueObject(valute).value,\r\n        fill: false,\r\n        backgroundColor: \"rgb(255, 99, 132)\",\r\n        borderColor: \"rgba(255, 99, 132, 0.2)\",\r\n      },\r\n    ],\r\n  };\r\n\r\n  let valuteArray = [\"USD/RUB\", \"EUR/RUB\", \"EUR/USD\"];\r\n\r\n  return (\r\n    <>\r\n      <TextCenter>Добрый день, {userName}</TextCenter>\r\n      <GraphDatePicker\r\n        loading={loading}\r\n        checkDateForChangeURL={checkDateForChangeURL}\r\n        endDateHandler={endDateHandler}\r\n        startDateHandler={startDateHandler}\r\n        startDate={startDate}\r\n        endDate={endDate}\r\n      />\r\n\r\n      {loading ? (\r\n        <h3 className=\"text-center\">Loading...</h3>\r\n      ) : (\r\n        <GraphData\r\n          dataUSD={dataUSD}\r\n          dataEUR={dataEUR}\r\n          err={err}\r\n          data={data}\r\n          valuteArray={valuteArray}\r\n          valuteHandler={valuteHandler}\r\n          valute={valute}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function FormGroup({\r\n  value,\r\n  placeholder,\r\n  id,\r\n  handler,\r\n  type = \"text\",\r\n}) {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={id}>{placeholder}</label>\r\n      <input\r\n        type={type}\r\n        className=\"form-control\"\r\n        id={id}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        onChange={(e) => handler(e)}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Error({ children }) {\r\n  return (\r\n    <div className=\"alert alert-danger\" role=\"alert\">\r\n      <p className=\"text-center mb-0\">{children}</p>\r\n    </div>\r\n  );\r\n}\r\n","function receivLocalStorageData() {\r\n  let json = localStorage.getItem(\"user\");\r\n  let registeredUser = json ? JSON.parse(json) : [];\r\n  return registeredUser;\r\n}\r\n\r\nfunction usersInfo() {\r\n  let storageUsers = receivLocalStorageData();\r\n\r\n  let users = [\r\n    ...storageUsers,\r\n    {\r\n      name: \"Alex\",\r\n      password: \"1234\",\r\n    },\r\n    {\r\n      name: \"Dmitriy\",\r\n      password: \"qwerty\",\r\n    },\r\n    {\r\n      name: \"admin\",\r\n      password: \"password\",\r\n    },\r\n  ];\r\n\r\n  return users;\r\n}\r\n\r\nexport function addNewUserInLOcalStorage(name, password) {\r\n  let storageUsers = receivLocalStorageData();\r\n  storageUsers.push({ name, password });\r\n  return localStorage.setItem(\"user\", JSON.stringify(storageUsers));\r\n}\r\n\r\nexport function authCheck(name, pass) {\r\n  let users = usersInfo();\r\n\r\n  let nameResult = users.filter((el) => el.name === name);\r\n\r\n  let logIn =\r\n    nameResult.length > 0\r\n      ? nameResult.find((el) => el.password === pass)\r\n        ? true\r\n        : false\r\n      : false;\r\n  return logIn;\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport Button from \"./Button\";\r\nimport FormGroup from \"./FormGroup\";\r\nimport Error from \"../Components/Error\";\r\nimport {\r\n  addNewUserInLOcalStorage,\r\n  authCheck,\r\n} from \"./loginInfo/loginAndPasswords\";\r\n\r\nimport \"../styles/LogInForm.css\";\r\n\r\nexport default function LoginPage({ logHandler, nameHandler }) {\r\n  const [name, setName] = useState(\"\");\r\n  const [pass, setPass] = useState(\"\");\r\n  const [logError, setLogError] = useState(false);\r\n\r\n  const registrationHandler = (name, pass) => {\r\n    addNewUserInLOcalStorage(name, pass);\r\n\r\n    logInHandler();\r\n\r\n    clearInputs();\r\n  };\r\n\r\n  useEffect(() => {\r\n    let timeout;\r\n    if (logError) {\r\n      timeout = setTimeout(() => setLogError(false), 3500);\r\n    }\r\n    return () => clearTimeout(timeout);\r\n  }, [logError]);\r\n\r\n  const clearInputs = () => {\r\n    setName(\"\");\r\n    setPass(\"\");\r\n  };\r\n\r\n  const checkInputsForValue = () => {\r\n    if (name.length > 0 && pass.length > 0) {\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const nameInputHandler = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n  const passInputHandler = (e) => {\r\n    setPass(e.target.value);\r\n  };\r\n\r\n  const logInHandler = () => {\r\n    let logIn = authCheck(name, pass);\r\n\r\n    if (logIn) {\r\n      logHandler();\r\n      nameHandler(name);\r\n      clearInputs();\r\n    } else {\r\n      setLogError(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {logError ? (\r\n        <Error> Имя или пароль введены не правильно, попробуйте снова</Error>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <div className=\"login\">\r\n        <FormGroup\r\n          value={name}\r\n          placeholder=\"Имя\"\r\n          id=\"nameLabel\"\r\n          handler={nameInputHandler}\r\n        />\r\n        <FormGroup\r\n          type=\"password\"\r\n          value={pass}\r\n          placeholder=\"Пароль\"\r\n          id=\"passLabel\"\r\n          handler={passInputHandler}\r\n        />\r\n\r\n        <Button\r\n          type=\"submit\"\r\n          className=\"w-100 mb-2\"\r\n          onClick={logInHandler}\r\n          disabled={checkInputsForValue()}\r\n        >\r\n          Войти\r\n        </Button>\r\n        <Button\r\n          type=\"submit\"\r\n          className=\"w-100\"\r\n          onClick={() => registrationHandler(name, pass)}\r\n          disabled={checkInputsForValue()}\r\n        >\r\n          Зарегестрироваться\r\n        </Button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Main({ name }) {\r\n  return (\r\n    <h2 className=\"text-center pt-2 m-2\">\r\n      Привет{name ? `, ${name}` : \"\"}! на этом сайте ты сможешь пройти\r\n      регистрацию и посмотреть на график валют за определенное время\r\n    </h2>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  HashRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport Header from \"./Components/Header\";\r\nimport GraphPage from \"./Components/graph/GraphPage\";\r\nimport LoginPage from \"./Components/LoginPage\";\r\nimport Main from \"./Components/Main\";\r\n\r\nfunction App() {\r\n  const [log, setLog] = useState(false);\r\n  const [name, setName] = useState();\r\n\r\n  const logHandler = () => {\r\n    setLog((prev) => !prev);\r\n    setName();\r\n  };\r\n\r\n  const nameHandler = (text) => {\r\n    setName(text);\r\n  };\r\n\r\n  return (\r\n    <Router basename=\"/react-authAndGraph\">\r\n      <Header logOut={logHandler} log={log} />\r\n      <Switch>\r\n        {log ? <Redirect from=\"/auth\" to=\"/graph\" /> : \"\"}\r\n        <Route exact path=\"/\">\r\n          <Main name={name} />\r\n        </Route>\r\n        <Route path=\"/graph\">\r\n          <GraphPage userName={name} />\r\n        </Route>\r\n        <Route path=\"/auth\">\r\n          <LoginPage\r\n            log={log}\r\n            logHandler={logHandler}\r\n            nameHandler={nameHandler}\r\n            userName={name}\r\n          />\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}